{% extends "../layouts/base.html" %}
{% load static %}
{% block title %}View Product{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2>{{ product.name }}</h2>
  <p><strong>SKU:</strong> {{ product.SKU }}</p>
  <p><strong>Price:</strong> {{ product.price }} DZD</p>
  {% if product.stock_quantity %}
    <p><strong>Stock:</strong> {{ product.stock_quantity }}</p>
  {% endif %}
  <p><strong>Description:</strong> {{ product.description|safe }}</p>
  {% if product.image %}
    <img src="{{ product.image.url }}" alt="{{ product.name }}" width="150">
  {% endif %}

  <hr>
  <h4>Variants</h4>
  {% for variant in product.variants.all %}
    <div class="card mb-3">
      <div class="card-body">
        <h5>SKU: {{ variant.SKU }}</h5>
        <p>Price: {{ variant.price }} DZD</p>
        <p>Stock: {{ variant.stock_quantity }}</p>
        {% if variant.image %}
          <img src="{{ variant.image.url }}" width="100">
        {% endif %}
        <h6>Options:</h6>
        <ul>
          {% for value in variant.option_values.all %}
            <li>{{ value.option.name }}: {{ value.value }}</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  {% empty %}
    <p>No variants.</p>
  {% endfor %}

  <a href="{% url 'products:edit_product' product.id %}" class="btn btn-primary mt-3">Edit</a>
</div>
{% endblock %}
